<template>
  <view class="wrap">
    <step :state.sync="state"></step>
    <form @submit="submit" wx:if="{{true}}">
      <view class="agreement-wrap">
        <view class="agreement-title">店铺信息注册</view>
        <view>
          <view class="com-item">
            <view class="title">店铺行业</view>
            <picker bindchange="storeClassChange" range="{{storeClass}}" range-key="sc_name">
              <input type="text" placeholder="请选择店铺行业" disabled>
            </picker>
          </view>
          <view class="com-item">
            <view class="title">店铺类目</view>
            <picker bindchange="storeClassChange" range="{{storeClass}}" range-key="sc_name">
              <input type="text" placeholder="请选择店铺类目" disabled>
            </picker>
          </view>
          <view class="com-item">
            <view class="title">开店时长</view>
            <picker bindchange="storeClassChange" range="{{storeClass}}" range-key="sc_name">
              <input type="text" placeholder="请选择开店时长" disabled>
            </picker>
          </view>
          <view class="com-item">
            <view class="title">店铺等级</view>
            <picker bindchange="storeClassChange" range="{{storeClass}}" range-key="sc_name">
              <input type="text" placeholder="请选择店铺等级" disabled>
            </picker>
          </view>
        </view>
        <view class="upload-title">合计费用</view>
        <view class="settled-price">平台使用费
          <text>1168元</text>
        </view>
        <view class="settled-price">店铺保证金
          <text>1168元</text>
        </view>
      </view>
      <view class="nav-wrap">
        <navigator open-type="redirect"  url="/pages/settledinthree" class="item">上一步</navigator>
        <button form-type="submit" class="item nav">提交审核</button>
      </view>
    </form>
    <view wx:if="{{false}}">
      <view class="agreement-wrap">
        <view class="agreement-title">审核通过确认信息</view>
        <view class="settle-list">
          <view class="com-item">
            <view class="title">商铺账号</view>
            <input type="text" value="123456" disabled>
          </view>
          <view class="com-item">
            <view class="title">商铺名称</view>
            <input type="text" value="商铺名称" disabled>
          </view>
          <view class="com-item">
            <view class="title">联系人</view>
            <input type="text" value="联系人" disabled>
          </view>
          <view class="com-item">
            <view class="title">联系电话</view>
            <input type="text" value="联系电话" disabled>
          </view>
          <view class="com-item">
            <view class="title">商铺地址</view>
            <input type="text" value="商铺地址" disabled>
          </view>
          <view class="com-item">
            <view class="title">商铺行业</view>
            <input type="text" value="商铺行业" disabled>
          </view>
          <view class="com-item">
            <view class="title">商铺类目</view>
            <input type="text" value="商铺类目" disabled>
          </view>
          <view class="com-item">
            <view class="title">开店时长</view>
            <input type="text" name="admin" value="开店时长" disabled>
          </view>
          <view class="com-item">
            <view class="title">店铺等级</view>
            <input type="text" name="admin" value="店铺等级" disabled>
          </view>
          <view class="com-item">
            <view class="title">合计费用</view>
            <view class="price">
              <text>2168</text>元
            </view>
          </view>
        </view>
      </view>
      <view class="nav-wrap">
        <!-- <navigator url="/pages/settledinthree" class="item">重新编辑</navigator> -->
        <button form-type="submit" class="item nav" bindtap="showPriceType">去支付</button>
      </view>
    </view>
    <paymask :maskFlag.sync="payFlag">
      <view class="price-type">
        <view class="price-all">支付金额：
          <text>￥{{paying_amount}}</text>
        </view>
        <view class="type">
          <view class="left">
            <text>使用余额支付</text>
            <!-- <switch color="#48CFAE" checked="{{payment_type == 1}}" disabled></switch> -->
          </view>
          <view class="price">
            <text>可用余额</text>
            <view>￥{{available_predeposit}}</view>
          </view>
        </view>
        <view class="input-wrap" wx:if="{{payment_type == 1}}">
          <text>输入支付密码</text>
          <input type="password" @input="inputPassword" value="{{password}}" maxlength="6">
        </view>
        <view class="price-type-title">支付方式：{{payment_type == 0 ? '微信支付':'余额支付'}}</view>
        <button class="btn" @tap="pay">确认支付</button>
      </view>
    </paymask>
  </view>
</template>

<script>
import wepy from 'wepy';
import step from '../components/step';
var api = require('../api.js');
import { ajax } from '../ajax.js';
import mask from '../components/mask';

export default class Settledinfour extends wepy.page {
  config = {
    navigationBarTitleText: '入驻审核'
  };

  components = { step, paymask: mask };

  mixins = [];

  data = {
    state: 4,
    payFlag: false
  };

  computed = {};
  onShow() {}
  methods = {
    showPriceType() {
      this.payFlag = true;
    },
    pay() {
      this.$redirect('settledinfive');
    }
  };

  events = {};

  onLoad() {}
}
</script>

<style lang="less">
.agreement-wrap {
  padding: 0 30rpx;
  .agreement-title {
    font-weight: bold;
    font-size: 30rpx;
    color: #333;
    text-align: center;
    padding: 30rpx 0 26rpx;
  }
}
.nav-wrap {
  display: flex;
  padding: 60rpx 140rpx 60rpx 140rpx;
  justify-content: space-between;
  .item {
    width: 170rpx;
    height: 70rpx;
    line-height: 70rpx;
    border-radius: 10rpx;
    font-size: 28rpx;
    color: #333;
    text-align: center;
    border: 1px solid #bcbcbc;
  }
  .nav {
    color: #fff;
    background: #ff2228;
    border: none;
  }
}
.com-item {
  margin-top: 60rpx;
  display: flex;
  align-items: center;
  justify-content: space-between;
  &:nth-of-type(1) {
    margin-top: 0rpx;
  }
  .title {
    font-weight: bold;
    font-size: 30rpx;
    width: 150rpx;
    white-space: nowrap;
  }
  input {
    height: 100rpx;
    flex: 1;
    color: #333;
    font-size: 28rpx;
    border: 1px solid #bcbcbc;
    border-radius: 10rpx;
    padding-left: 10rpx;
    box-sizing: border-box;
    height: 70rpx;
  }
  > text {
    font-weight: bold;
    font-size: 30rpx;
  }
  picker {
    flex: 1;
  }
  .price {
    font-size: 30rpx;
    font-weight: bold;
    flex: 1;
    text {
      color: #ff2228;
    }
  }
}
.upload-title {
  color: #333333;
  font-weight: bold;
  font-size: 30rpx;
  padding: 50rpx 0 40rpx 0;
}
.settled-price {
  color: #666666;
  font-size: 28rpx;
  padding-bottom: 30rpx;
  text {
    font-weight: bold;
    color: #333;
    margin-left: 20rpx;
  }
}
.settle-list {
  input {
    border: none;
    color: #333333;
    font-size: 28rpx;
    font-weight: 400;
    height: auto;
  }
  .com-item {
    margin-top: 30rpx;
    &:nth-of-type(1) {
      margin-top: 0;
    }
  }
}
.price-type {
  position: fixed;
  bottom: 0;
  z-index: 999;
  background: #fff;
  width: 750rpx;
  border-radius: 10rpx;
  margin: 0 auto;
  color: #333;
  padding: 50rpx 30rpx;
  box-sizing: border-box;
  .type {
    display: flex;
    justify-content: space-between;
    align-items: center;
    height: 80rpx;
    .left {
      font-size: 28rpx;
      switch {
        transform: scale(0.7);
      }
      text {
        color: #666;
      }
    }
    .price {
      display: flex;
      align-items: center;
      > view {
        color: #f92832;
        margin-left: 10rpx;
        font-weight: bold;
      }
      text {
        color: #666;
      }
    }
  }
  .input-wrap {
    display: flex;
    align-items: center;
    height: 80rpx;
    > input {
      margin-left: 20rpx;
      border-bottom: 1px solid #ccc;
      width: 400rpx;
      height: 70rpx;
    }
    text {
      color: #666;
    }
  }
  .price-type-title {
    text-align: center;
    font-size: 26rpx;
    color: #ccc;
    padding: 30rpx 0 0 0;
  }
  .btn {
    width: 670rpx;
    height: 80rpx;
    line-height: 80rpx;
    text-align: center;
    font-weight: bold;
    font-size: 28rpx;
    color: #fff;
    background: #f2292d;
    border-radius: 10rpx;
    margin: 30rpx auto 0;
  }
}
</style>
