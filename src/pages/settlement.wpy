
<template>
  <view class="settlement-wrap">
    <view class="useraddress">
      <image class="imgadd" src="{{requestImgUrl}}adres.png" />
      <view class="center" hidden>
        <view class="userinfo">收货人: {{userinfo.username}} {{userinfo.phone}}</view>
        <view class="useradd">{{userinfo.address}}</view>
      </view>
      <view class="center">
        <view class="add-address">添加收货地址</view>
      </view>
      <image class="imgright" src="/assets/img/image25.png" />
    </view>
    <view class="usergoods-wrap">
      <repeat for="{{2}}">
        <view class="usergoods">
          <image class="goodsimg" src="/assets/img/image.png" />
          <view class="goods-right">
            <view class="goodsname overflow-one">萌粉订书机 小型萌粉订书机 小型萌粉订书机 小型</view>
            <view class="goodstag">
              <text>粉+白</text>
              <view class="goodnum">×1</view>
            </view>
            <view class="goodprice">
              ￥
              <text class="price">99</text>
            </view>
          </view>
        </view>
      </repeat>
    </view>
    <!-- 定金 -->
    <view class="earnest-money">
      <view class="item  red-color">
        <view class="title">定金</view>
        <view class="price">
          ￥
          <text>2</text>
        </view>
      </view>
      <view class="item  gray-color">
        <view class="title">尾款</view>
        <view class="price">
          ￥
          <text>2000</text>
        </view>
      </view>
      <text>08月22日 00:0000开始支付尾款</text>
    </view>

    <view class="option-wrap">
      <view class="option-item">
        <view class="com-title">商品</view>
        <!-- <image src="/assets/img/image25.png" /> -->
        <view class="price">
          ￥
          <text>198</text>
        </view>
      </view>
      <view class="option-item">
        <view class="com-title">运费</view>
        <view class="price">
          ￥
          <text>2</text>
        </view>
        <!-- <image src="/assets/img/image25.png" /> -->
      </view>
    </view>
    <!-- 底部 订单提交 -->
    <view class="settlebottom">
      <view class="num">共件</view>
      <view class="priceall">
        共计 ￥
        <text class="allprice">200</text>元
      </view>
      <button class="sub-btn" @tap="getWXPayment">提交订单</button>
    </view>
  </view>
</template>

<script>
import wepy from 'wepy';

export default class ShopCart extends wepy.page {
  config = {
    navigationBarTitleText: '提交订单'
  };

  components = {};

  mixins = [];

  data = {
    requestImgUrl: '',
    preId: '1', //预购id
    allSelected: false,
    goodsAllNum: 0, //总共件数
    goodsAllPrice: 0, // 总共价格
    userinfo: {
      username: '李白',
      phone: '18002101520',
      address: '陕西省西安市莲湖区安美居构建公司家属院'
    }
  };

  computed = {};

  methods = {
    getWXPayment() {
      console.log('提交订单');
    }
  };

  events = {};
  onLoad(options) {}
  onShow() {
    // this.userInfo = this.$parent.globalData.userInfo
    this.requestImgUrl = this.$parent.globalData.requestImgUrl;
  }
}
</script>

<style lang="less">
.red-color {
  color: #ff2228;
}
.gray-color {
  color: #999999;
}
.settlement-wrap {
  margin-bottom: 100rpx;
}
// 用户地址 信息
.useraddress {
  padding: 20rpx;
  background: #fff;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  .imgadd {
    width: 44rpx;
    height: 44rpx;
    margin-right: 24rpx;
  }
  .center {
    flex: 1;
    .userinfo {
      font-size: 32rpx;
      color: #292929;
      font-weight: bold;
      padding-bottom: 10rpx;
    }
    .useradd {
      font-size: 26rpx;
      color: #999;
      line-height: 1.5;
    }
  }
  .imgright {
    width: 44rpx;
    height: 44rpx;
  }
}
.usergoods-wrap {
  border-top: 10rpx solid #f9f9f9;
  .usergoods {
    padding: 30rpx;
    display: flex;
    align-items: center;
    .goodsimg {
      width: 156rpx;
      height: 156rpx;
      border-radius: 10rpx;
      margin-right: 26rpx;
    }
    .goods-right {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 160rpx;
      .goodsname {
        font-weight: bold;
        width: 500rpx;
        font-size: 30rpx;
      }
      .goodstag {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: space-between;
        text {
          display: block;
          padding: 0 20rpx;
          background: #fbfbfb;
          border-radius: 6rpx;
          height: 42rpx;
          line-height: 42rpx;
          color: #a3a3a3;
          font-size: 26rpx;
        }
        .goodnum {
          color: #999;
        }
      }
      .goodprice {
        color: #f92832;
        text-align: right;
        .price {
          font-size: 36rpx;
          font-weight: bold;
        }
      }
    }
  }
}
.option-wrap {
  border-top: 10rpx solid #f2f2f2;
  .option-item {
    height: 90rpx;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 30rpx;
    border-bottom: 1px solid #f2f2f2;
    .com-title {
      font-weight: bold;
    }
    .description {
      display: flex;
      align-items: center;
      flex: 1;
      justify-content: flex-end;
      > image {
        width: 24rpx;
        height: 24rpx;
      }
      text {
        font-size: 24rpx;
        padding: 0 20rpx 0 10rpx;
      }
    }
    > image {
      width: 48rpx;
      height: 48rpx;
    }
    .price {
      color: #f92832;
      text {
        font-weight: bold;
        font-size: 36rpx;
      }
    }
  }
}
.settlebottom {
  position: fixed;
  display: flex;
  justify-content: space-between;
  align-items: center;
  bottom: 0;
  z-index: 999;
  height: 100rpx;
  line-height: 100rpx;
  width: 100%;
  padding: 0 30rpx;
  box-sizing: border-box;
  .priceall {
    color: #a3a3a3;
    font-size: 30rpx;
    .allprice {
      color: #f92832;
      font-size: 38rpx;
      font-weight: bold;
    }
  }
  .sub-btn {
    width: 226rpx;
    height: 70rpx;
    line-height: 70rpx;
    background: #f92832;
    border-radius: 10rpx;
    text-align: center;
    color: #fff;
    font-weight: bold;
    font-size: 30rpx;
  }
}
.earnest-money {
  position: relative;
  .item{
    display: flex;
    height: 90rpx;
    justify-content: space-between;
    align-items: center;
    padding: 30rpx 30rpx 0;
    &:nth-of-type(1) {
      padding-top: 0;
    }
    .title {
      position: relative;
    }
    .price {
      text {
        font-weight: bold;
      }
    }
  }
  > text {
    height: 90rpx;
    line-height: 90rpx;
    color: #999999;
    padding-left: 30rpx;
  }
}
</style>
